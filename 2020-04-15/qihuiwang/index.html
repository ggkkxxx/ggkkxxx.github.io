<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <header>
        <nav id="nav-bar">
            <ul id="nav-list">
                <li class="item">
                    <div class="item-name"><a href="">手机站</a></div>
                    <div class="drop">
                        <ul class="list-item">
                            <li><img src="http://static.qihuiwang.com/images/oneCode.jpg" alt=""></li>
                            <li><img src="http://static.qihuiwang.com/images/xiaochengxu.jpg" alt=""></li>
                        </ul>
                    </div>
                </li>
                <li class="item">
                    <div class="item-name">欢迎来到企汇网</div>
                </li>
                <li class="item">
                    <a href="login.html"class="item-name">登录</a>
                </li>
                <li class="item">
                    <a href=""class="item-name">注册</a>
                </li>
                <li >
                    <ul id="list-right">
                    <li class="item">
                        <a href="" class="item-name">企汇网首页</a>
                    </li>
                    <li class="item">
                        <div class="item-name"><a href="">收藏夹</a></div>
                        <div class="drop">
                            <ul class="list-item">
                                <li><a href="">收藏的产品</a></li>
                                <li><a href="">收藏的店铺</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="item">
                        <div class="item-name"><a href="">我是采购商</a></div>
                        <div class="drop">
                            <ul class="list-item">
                                <li><a href="">采购商中心</a></li>
                                <li><a href="">发布采购单</a></li>
                                <li><a href="">采购管理</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="item">
                        <div class="item-name"><a href="">我是供应商</a></div>
                        <div class="drop">
                            <ul class="list-item">
                                <li><a href="">供应商中心</a></li>
                                <li><a href="">发布产品</a></li>
                                <li><a href="">产品管理</a></li>
                                <li><a href="">店铺管理</a></li>
                               
                            </ul>
                        </div>
                    </li>
                    <li class="item">
                        <div class="item-name"><a href="">企汇管家</a></div>
                      
                    </li>
                    <li class="item">
                        <div class="item-name"><a href="">企汇服务</a></div>
                        <div class="drop">
                            <ul class="list-item">
                                <h5>热门服务</h5>
                                <li><a href="">标王</a></li>
                                <li><a href="">黄金展位</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="item">
                        <a href="" class="item-name">客服中心</a>
                        <div class="drop">
                            <ul class="list-item">
                                <li><a href="">常见问题</a></li>
                                <li><a href="">在线客服</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="item">
                        <div class="item-name"><a href="">网站导航</a></div>
                        <div class="drop">
                            <ul class="list-item">
                                <h5>特色服务</h5>
                                <li><a href="">首页</a></li>
                                <li><a href="">资讯</a></li>
                            </ul>
                        </div>
                    </li>
                    </ul>
                </li>
            </ul>
            
               
        </nav>
    </header>
    <div id="logo-title">
        <div id="title-main">
            <div id="logo"><a href=""></a></div>
            <div id="logo-font"></div>
        <div id="search-box">
            <input type="search" placeholder="请输入产品名称">
            <a href="">发布采购单</a>
            <div id="logo-end">
                <ul>
                    <li>企汇网手机站</li>
                    <li><img src="./images/Appdown.jpg" alt=""></li>
                </ul>
            </div>
        </div>
       
        </div>
        
    </div>
    <div id="mainNav">
        <ul>
            <li style="width: 160px; text-align: center; background-color: rgb(230, 8, 8);color: white;">所有分类</li>
            <li><a href="">采购中心</a></li>
            <li><a href="">爱采购</a></li>
            <li><a href="">小程序</a></li>
            <li><a href="">活动汇</a></li>
            <li><a href="">资讯</a></li>
            <li><a href="">展会</a></li>
            <li><a href="">郑州站</a></li>
            <li><a href="">平顶山站</a></li>
            <li><a href="">企汇管家</a></li>
            <li><a href="">企汇云信</a></li>
        </ul>
    </div>
    <div id="main-bg">
        <div id="onBg">
        <div id="bg-left">
            <ul>
            <li><a href="">机械/设备/模具</a></li>
            <li><a href="">农作物/花卉/禽畜</a></li>
            <li><a href="">建筑/建材/五金</a></li>
            <li><a href="">能源/矿产/石油</a></li>
            <li><a href="">电工/电气/配电</a></li>
            <li><a href="">饰品/礼品/工艺品</a></li>
            <li><a href="">汽车/保养/维修</a></li>
            <li><a href="">交通运输/配件</a></li>
            <li><a href="">物流/运输/货运</a></li>
            <li><a href="">网站/广告/服务</a></li>
        </ul>
        </div>
        <div id="lbt">
            <!-- 轮播图中每一个项 -->
            <div id="inner"></div>
            <!-- <div id="left" class="change">←</div>
            <div id="right" class="change">→</div> -->
            <ul id="points">
               
            </ul>
    
        </div>
        <div class="bg-bottom">
            <a href="">
                <img src="http://image.qihuiwang.com/90/E/261/90AED19059A4AA05121B2F83A2272733.jpg">
                <div class="picfont">
                    <h4>清洗清理设备</h4>
                    <span>超声波清洗机</span>
                </div>
            </a>
            <a href="">
                <img src="http://image.qihuiwang.com/9A/0/952/9AD0037B83EC60FC260D5DC4164A5F04.jpg" >
                <div class="picfont">
                    <h4>保温材料</h4>
                    <span>聚苯板</span>
                </div>
            </a>
            <a href="">
                <img src="http://image.qihuiwang.com/0D/8/161/0D384C8A1545005B912868815C598A7A.jpg">
                <div class="picfont">
                    <h4>多功能果园管理机</h4>
                    <span>开沟施肥机</span>
                </div>
            </a>
            <a href="">
                <img src="http://image.qihuiwang.com/94/6/265/94B600509B5697B9F27E7F0482225B64.jpg">
                <div class="picfont">
                    <h4>广告牌</h4>
                    <span>垃圾分类亭</span>
                </div>
            </a>
        </div>
    </div>
    </div>
</body>

<script src="./js/index.js"></script>
<script src="./js/jquery.min.js"></script>
<script>
     var pics = ['1.jpg','2.jpg','3.jpg','4.jpg','5.jpg','1.jpg']
        pics.forEach(function(e,i,a){
            //创建div显示图片 放到id为inner div下
            //设置宽高
            //设置背 景图片大小
            //
            $('<div></div>')
            .css({
                width:'100%',
                height:'100%',
                'background-image':'url('+e+')',
                'background-size':'100% 100%',
                left:i*740+'px'
                
            })
            //添加lbt-item类
            .addClass('lbt-item')
            .appendTo($('#inner'))
        })

        //创建白点
        for(var i = 0;i<pics.length-1;i++){
            $('<li></li>')
            .appendTo($('#points'))
            //添加属性li包含index属性 0 1 2  3 
            .attr('index',i)
            .on('mouseenter',function(){
                
                var index = $(this).attr('index')*1
                console.log(index)
                //跳转到点多对应的一项 把跳转封装成一个方法
                goToPage(index)
            })
        }


        var currentPage = 0;//记录当前页面
        //后退的方法
        function previous(){
            //先把当前对应的点high-lighted类清除
            $('#points li').eq(currentPage).removeClass('high-lighted')
            currentPage--
            if(currentPage<0){
                currentPage=0
            }

            
            //减去1之后再把对应的点添加high-lighted类
            $('#points li').eq(currentPage).addClass('high-lighted')

            //图片切换

            $('#inner').css('left',-currentPage*740+'px')

            
        }

        //下一个图片的方法  点击右箭头调用方法，定时器方法自动调用
        function next(){
            $('#points li').eq(currentPage).removeClass('high-lighted')
            currentPage++
            $('#points li').eq(currentPage).addClass('high-lighted')
            if(currentPage>=pics.length){
                currentPage = 0
            }

            //切换图片
            $('#inner').css('left',-currentPage*740+'px')

            //当图片切换到最后一张的时候，把过度效果去掉，以后还要再添加上
            if(currentPage==pics.length-1){
                currentPage = 0;
                
                $('#points li').eq(currentPage).addClass('high-lighted')
                
                setTimeout(function(){
                    //去掉过度效果
                    $('#inner').css('transition','none')
                    //回到第一张
                    $('#inner').css('left',0)

                    //把过渡效果添加上
                    setTimeout(function(){
                        $('#inner').css('transition','all 0.7s') 
                    },30)

                },700)
            }
        }

        //跳转到指定的页面
        function goToPage(page){
            $('#points li').eq(currentPage).removeClass('high-lighted')
            currentPage = page
            $('#points li').eq(currentPage).addClass('high-lighted')
            //切换图片
            $('#inner').css('left',-currentPage*740+'px')
        }

        

        var timer = setInterval(next,4000)
        //.eq(0) 返回jQuery对象中第一个满足条件的元素 还是一个jQuery对象
        $('#points li').eq(0).addClass('high-lighted')

        //为innerdiv设置左边距为0，作用设置初始显示的图片
        $('#inner').css('left','0px')


       
</script>
</html>